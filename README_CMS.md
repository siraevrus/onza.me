# Система управления контентом (CMS)

Проект полностью переведен на PHP с системой управления контентом через админ-панель.

## Возможности

- ✅ Управление проектами через админ-панель
- ✅ Управление страницами через админ-панель
- ✅ Редактирование контента страниц с визуальным редактором (CKEditor)
- ✅ Все страницы загружаются из базы данных SQLite
- ✅ Автоматический fallback на статические HTML файлы если страница не найдена в БД

## Структура

- `admin.php` - Админ-панель (логин: admin, пароль: admin123)
- `api/pages.php` - API для управления страницами
- `api/projects.php` - API для управления проектами
- `templates/base.php` - Базовый шаблон для страниц
- `config/database.php` - Конфигурация БД
- `config/auth.php` - Система авторизации

## Использование

### Первый запуск

1. Запустите локальный сервер с роутером (рекомендуется):
   ```bash
   php -S localhost:8000 router.php
   ```
   
   Или без роутера (проще, но может быть редирект на главную для несуществующих файлов):
   ```bash
   php -S localhost:8000
   ```

2. Откройте админ-панель: http://localhost:8000/admin.php
   - Логин: `admin`
   - Пароль: `admin123`

3. Импортируйте существующие HTML страницы в БД:
   - Откройте: http://localhost:8000/import_pages.php
   - Это создаст страницы в БД на основе существующих HTML файлов

### Управление страницами

1. В админ-панели перейдите на вкладку "Страницы"
2. Создайте новую страницу или отредактируйте существующую
3. Используйте визуальный редактор для редактирования HTML контента
4. Сохраните изменения

### Управление проектами

1. В админ-панели на вкладке "Проекты"
2. Добавляйте, редактируйте и удаляйте проекты
3. Проекты автоматически отображаются на странице `projects.php`

## Структура базы данных

### Таблица `pages`
- `id` - ID страницы
- `slug` - URL страницы (уникальный)
- `title` - Заголовок страницы
- `meta_description` - Meta описание для SEO
- `content` - HTML содержимое страницы
- `is_active` - Активна ли страница (1/0)
- `created_at` - Дата создания
- `updated_at` - Дата обновления

### Таблица `projects`
- `id` - ID проекта
- `title` - Название проекта
- `description` - Описание
- `link` - Ссылка на страницу проекта
- `logo_path` - Путь к логотипу
- `tags` - Теги (через запятую)
- `display_order` - Порядок отображения

## Файлы

Все PHP страницы (services.php, contacts.php и т.д.) автоматически загружают контент из БД.
Если страница не найдена в БД, система пытается загрузить статический HTML файл.

## Безопасность

- Все API endpoints требуют авторизации
- Пароли хранятся в хэшированном виде
- Защита от SQL инъекций через подготовленные запросы
- Экранирование вывода через htmlspecialchars
